<div align="center">
  <img src="./static/logo/v2_200.png" width="100">
  <br>
  <br>
  
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/pipeline-as-code)

![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/main/cck)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/testing/unit/coverage)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/code-review/auto-merge)

![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/status/merge_request)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/status/push)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/status/tag_push)

 ![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/code/vscode)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/ci/git-clone-yyds)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/delivery/time)
![metrics](https://metrics.woa.com/git/orange-ci/orange-ci/-/latest/production/cdn-go/status)

</div>

<h2 align="center">What is it</h2>

ä»¥ Git ä¸ºä¸­å¿ƒï¼ŒåŸºäº Docker ç”Ÿæ€çš„ äº‘åŸç”Ÿæ„å»ºã€‚

<h2 align="center">Highlights</h2>

<table>
  <tr>
    <th><h4 align="center">ğŸš€<h4 align="center">Easy-to-Use</h4 align="center"></th>
    <th><h4 align="center">âŒ¨ï¸<h4 align="center">Pipeline-as-code</h4 align="center"></th>
    <th><h4 align="center">ğŸ³</h4 align="center"><h4 align="center">Docker-First</h4 align="center"></th>
  </tr>
  <tr>
    <td width="33%"><sub>å¼€ç®±å³ç”¨ã€‚Orange-CI æ— éœ€ç”¨æˆ·æä¾›ç§æœ‰æœºå™¨ã€‚åªéœ€å‡ æ­¥ç®€å•çš„é…ç½®å³å¯æ¥å…¥ï¼Œä½“éªŒåˆ°å·¥å…·å¸¦æ¥çš„æ•ˆç‡æå‡ã€‚</sub></td>
    <td width="33%"><sub>ä¸šç•Œæœ€ä½³å®è·µï¼Œæµæ°´çº¿é…ç½®å³ä»£ç ã€‚</sub></td>
    <td width="33%"><sub>å®¹å™¨ä¸º Orange-CI æ¶æ„ä¸­ç¬¬ä¸€ç­‰å…¬æ°‘ï¼Œæ‰§è¡Œç¯å¢ƒåŠæ’ä»¶éƒ½é¦–è¦è€ƒé‡åŸç”Ÿå®¹å™¨æ–¹æ¡ˆæ”¯æŒã€‚</sub></td>
  </tr>
  <tr>
    <th><h4 align="center">ğŸ’¬<h4 align="center">Wework-Based</h4 align="center"></th>
    <th><h4 align="center">â˜ï¸</h4 align="center"><h4 align="center">Docker-as-Plugins</h4 align="center"></th>
    <th><h4 align="center">ğŸŒ</h4 align="center"><h4 align="center">NAT-Supported</h4 align="center"></th>
  </tr>
  <tr>
    <td width="33%"><sub>åŸç”Ÿæ”¯æŒä¼ä¸šå¾®ä¿¡æ¶ˆæ¯é€šçŸ¥ï¼Œæ„å»ºè¿›åº¦å°½åœ¨æŒæ¡ã€‚</sub></td>
    <td width="33%"><sub>Docker é•œåƒå³æ’ä»¶ã€‚é€‚åº”ä¸‹ä¸€ä»£è¡Œä¸šç”Ÿæ€ï¼Œèƒ½å¤Ÿå®ç°è·¨ CI å¤ç”¨ã€‚<a href="https://oci.woa.com/plugins.html">https://oci.woa.com/plugins.html</a></sub></td>
    <td width="33%"><sub>ä½¿ç”¨åŸºäº NAT ç½‘ç»œæ¨¡å¼çš„å®¹å™¨ä½œä¸ºæ„å»ºç¯å¢ƒï¼Œå¯¹ç”¨æˆ·æ„å»ºæ—¶ä½¿ç”¨çš„ç«¯å£æ²¡æœ‰ä»»ä½•ç‰¹æ®Šé™åˆ¶ã€‚</sub></td>
  </tr>
</table>

<!-- <img src="./static/example.gif" alt="example gif"> -->

<h2 align="center">Quick Start</h2>

### 1ã€Git ä»“åº“æˆæƒ

[ç‚¹å‡» OAuth2 å®Œæˆæˆæƒ](https://orange-ci.woa.com/oauth/authorize)

### 2ã€å¢åŠ  CI é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å¢åŠ  `.orange-ci.yml` é…ç½®æ–‡ä»¶ã€‚

å…¶æè¿°äº†å½“ä»“åº“å‘ç”Ÿä¸€äº›äº‹ä»¶æ—¶ï¼Œ`Orange-CI` åº”è¯¥å¦‚ä½•å»è¿›è¡Œå¤„ç†ã€‚

å°†é…ç½®æ–‡ä»¶ push åˆ°è¿œç¨‹ master

ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š

```yaml
master:
  push:
    - stages:
        - name: echo
          script: echo "hello world"
```

æƒ³äº†è§£é…ç½®æ–‡ä»¶æ›´å¤šç”¨æ³•è¯·ç§»æ­¥ [é…ç½®æ–‡ä»¶](https://oci.woa.com/configuration.html)ã€‚

<h2 align="center">äº‘åŸç”Ÿ</h2>

### Docker image as pipeline Context

```yaml
master:
  push:
    - docker:
        image: node:14
      stages:
        - name: print node version
          script:
            - node -v
            - npm install
            - npm test
```

### Docker volumes as pipeline Cache

```yaml
master:
  push:
    - docker:
        image: node:14
        volumes:
          - /root/.npm:copy-on-write
      stages:
        - name: print node version
          script:
            - node -v
            - npm install
            - npm test
```

### Docker image as job Context

```yaml
master:
  push:
    - stages:
        - name: run with node 10
          image: node:10
          commands:
            - node -v
            - npm install
            - npm test
        - name: run with node 12
          image: node:12
          commands:
            - node -v
            - npm install
            - npm test
```

### Docker image as plugins

```yaml
master:
  push:
    - stages:
        - name: npm publish
          image: plugins/npm
          imports: https://example.com/example/secret/blob/master/npm.yml
          settings:
            username: $NPM_USER
            password: $NPM_PASS
            email: $NPM_EMAIL
            folder: .
```

<h2 align="center">æ–‡æ¡£</h2>

<https://oci.woa.com>

<h2 align="center">ä½¿ç”¨æ•°æ®</h2>

ä½¿ç”¨æƒ…å†µæ•°æ®å‡ä¸ºé€æ˜ä¿¡æ¯ï¼š<https://oci.woa.com/usage>

<h2 align="center">FAQ</h2>

**ä»€ä¹ˆæ—¶å€™å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Ÿ**

è§† Feature æˆ–è€… Bug fix çš„é‡è¦ç¨‹åº¦ï¼ˆå¼€å‘äººå‘˜çš„å¿ƒæƒ…ï¼‰è€Œå®šã€‚ä¸€èˆ¬æ¥è¯´ä¸¤å¤©ä¼šæœ‰ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸€å¤©æœ‰ä¸¤ä¸ªæ–°ç‰ˆæœ¬ã€‚å‘å¸ƒçš„æ—¶æœºå°±æ˜¯æ‰“ tag çš„æ—¶æœºã€‚æ‰€ä»¥å¦‚æœéœ€è¦ç¡®è®¤æŸä¸ªæ–°ç‰¹æ€§æˆ–è€… Bug æ˜¯å¦è¢«ä¿®å¤ï¼Œå¯ä»¥å» [tag é¡µé¢](https://git.woa.com/orange-ci/orange-ci/-/tags) æˆ–è€… [Changelog è®°å½•](https://git.woa.com/orange-ci/orange-ci/blob/master/CHANGELOG.md) ä¸­æŸ¥è¯¢æ˜¯å¦æœ‰ç›¸å…³çš„ Commit è®°å½•ï¼Œå¦‚æœæœ‰ï¼Œé‚£æ­å–œï¼Œè¿™ä¸ªç‰¹æ€§å·²ç»åœ¨å¤–ç½‘ä¸­äº†ã€‚å¦‚æœè¿˜æ²¡æœ‰ï¼Œæ¬¢è¿æ‰“èµå‚¬æ›´ã€‚ï¼šï¼‰

**æ€ä¹ˆä½¿ç”¨ Orange-CI æµ‹è¯•ç¯å¢ƒæ¥éªŒè¯é—®é¢˜ï¼Ÿ**

å¦‚æœæœ‰äººè¯´è®©ä½ å»æµ‹è¯•ç¯å¢ƒéªŒè¯ä¸€ä¸‹ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§é€”å¾„ï¼š

ç¬¬ä¸€ç§ï¼šå°†å·¥èœ‚ WebHook çš„åœ°å€ç”± <http://orange-ci.oa.com> æ”¹ä¸º <http://dev.orange-ci.woa.com> åå†è§¦å‘æ„å»ºå³å¯ã€‚

ç¬¬äºŒç§ï¼šå°†å·²æœ‰æ„å»ºæ—¥å¿—çš„åŸŸåç”± `orange-ci.oa.com` æ”¹ä¸º `dev.orange-ci.woa.com` åç‚¹å‡» rebuild å³å¯ã€‚

**ä¸ºä»€ä¹ˆ Orange-CI å·¥èœ‚è´¦å·ï¼ˆorangeciï¼‰ æƒé™è¦çš„è¿™ä¹ˆå¤§ï¼Œéœ€è¦ Master æƒé™ï¼Ÿ**

åœ¨å·¥èœ‚çš„ API è®¾è®¡ä¸­ï¼Œæœ‰ä¸€äº› CI çš„åŸºæœ¬åŠŸèƒ½è¦ç”¨åˆ°çš„æ¥å£æ˜¯éœ€è¦ç”¨ Master æƒé™è¿›è¡Œè°ƒç”¨çš„ã€‚æ¯”å¦‚ã€å…è®¸é˜»å¡ `Merge Request`ã€‘è¿™ä¸ªåŠŸèƒ½ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¹¶ä¸ä¿è¯åœ¨æˆäºˆä½äº Master æƒé™æ—¶ç¨‹åºèƒ½æ­£å¸¸è¿è¡Œï¼Œè¿™æœ‰å¯èƒ½å¯¼è‡´ CI åœ¨è¿è¡Œæ—¶å‡ºç°ä¸€äº›æœªçŸ¥é”™è¯¯ï¼

<h2 align="center">Contribute</h2>

æˆ‘ä»¬ååˆ†æœŸå¾…æ‚¨çš„ä»»ä½•è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä¿®å¤é”™åˆ«å­—ã€æ Bug è¿˜æ˜¯æäº¤ä¸€ä¸ªæ–°çš„ç‰¹æ€§ã€‚

å¦‚æœæ‚¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç° Bugï¼Œè¯·é€šè¿‡ [issues](http://git.woa.com/orange-ci/orange-ci/issues) æ¥æäº¤å¹¶æè¿°ç›¸å…³çš„é—®é¢˜ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹å…¶å®ƒçš„ issueï¼Œé€šè¿‡è§£å†³è¿™äº› issue æ¥è´¡çŒ®ä»£ç ã€‚

å¦‚æœæ‚¨æ˜¯ç¬¬ä¸€æ¬¡è´¡çŒ®ä»£ç ï¼Œè¯·é˜…è¯» [CONTRIBUTING](http://git.woa.com/orange-ci/orange-ci/blob/master/CONTRIBUTING.md) äº†è§£æˆ‘ä»¬çš„è´¡çŒ®æµç¨‹ï¼Œå¹¶æäº¤ Merge Request ç»™æˆ‘ä»¬ã€‚

<h2 align="center">Contributors</h2>

Orange-CI çš„å‘å±•ç¦»ä¸å¼€æ¯ä¸ªäººçš„è´¡çŒ®ï¼Œæ„Ÿè°¢ä½ ä»¬ï¼ğŸ‰

æŒ‰è‹±æ–‡åé¦–å­—æ¯æ’åºã€‚

<a href="https://gist.woa.com/contributors/orange-ci-orange-ci.svg" alt="contributors" target="_blank">
  <img src="https://gist.woa.com/contributors/orange-ci-orange-ci.svg">
</a>

<h2 align="center">License</h2>

[MIT](./LICENSE)
